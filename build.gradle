task wrapper(type: Wrapper) {
  gradleVersion = '1.0-milestone-9'
}

allprojects {
  group 'ros.pr2_android_utilities'
  version = '0.0.0-SNAPSHOT'
}

subprojects {
  repositories {
    mavenLocal()
    mavenCentral()
  }

  configurations.add('compile') {
    exclude group: 'junit'
    exclude group: 'xml-apis'
  }

  task deployLibs(type: Copy) {
    from { configurations.compile }
    into "${projectDir}/libs"
  }

  task clean << {
    ant.delete file: "${projectDir}/local.properties"
    ant.delete file: "${projectDir}/proguard-project.txt"
    ant.delete file: "${projectDir}/build.xml"
    ant.delete dir: "${projectDir}/bin"
    ant.delete dir: "${projectDir}/gen"
    ant.delete dir: "${projectDir}/libs"
  }

  task debug(type: Exec) {
    dependsOn deployLibs
    commandLine 'ant', 'debug'
  }
}

defaultTasks 'debug'
